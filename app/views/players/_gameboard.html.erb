<%cellnum = 1%>
<div>

<% if @game_round.player1_status and @game_round.player2_status%>
	<%= hidden_field_tag :players_status, "true" %>
<%else%>
	<%= hidden_field_tag :players_status, "false" %>
<%end%>

<table id="gameboard">
<%for row in 1..@gameboard.gridsize%>
  <tr>
		<%for col in 1..@gameboard.gridsize%>
			  <%#cell_color = @color_pallet[@cell_color[cellnum-1]]%>
			  <td style="background-color: <%=ColorPallet.find(@gameboard.cellcolors[cellnum-1].color_pallet_id).color%>" id='row<%=row%>col<%=col%>'>
			  <%p "Cellnum #{cellnum} #{@gameboard.cellcolors[cellnum-1].color_pallet_id}"%>
			  
				<% if @game_round.player1_status and @game_round.player2_status%>
					<%if(@player_current_position == cellnum)%>
						<%=image_tag "You.png"%>
					<%end%>
					<%if(@opponent_current_position == cellnum)%>
						<%=image_tag "P2.png"%>
					<%end%>
					
					<%if(cellnum == @gameboard.goal)%>
						<%=image_tag "goal38x38.PNG"%>
					<%end%>
				<%end%>
				
				<%cellnum+=1%>
			  </td>
		<%end%>
  </tr>
<%end%>
</table>
</div>

<div id="playerbucket">
				
	<table style="margin: 0px auto; border: 2px solid #A0A0A0; width: 420px;">
		<tr>
			<td style="background-color: #CCCCCC;">You</td>
		<%#@color_pallet = ColorPallet.all%>
		<%@color_pallets.each_with_index do |color, index|%>
			<td style="width:40px; height:20px; background-color: <%=color.color%> ">
				<%=@player_color_bucket[color.id]%>
			</td>
		<%end%>
			<td style="background-color: #CCCCCC;">Score</td>
			<td style="background-color: #CCCCCC;"><%#=player1_score%>-</td>
		</tr>

		<tr>
			<td style="background-color: #CCCCCC;">Player 2</td>
		<%@color_pallets.each_with_index do |color, index|%>
			<td style="width:40px; height:20px; background-color: <%=color.color%> ">
				<%=@opponent_color_bucket[color.id]%>
			</td>
		<%end%>
			<td style="background-color: #CCCCCC;">Score</td>
			<td style="background-color: #CCCCCC;"><%#=player2_score%>-</td>
		</tr>
	</table>
					
</div>